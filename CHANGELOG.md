# Prayforo 變更日誌

## v0.1.37 (2025-07-26)

### 🔧 系統優化
- 🔄 **路由優化** - 簡化認證頁面路徑
  - 將 `/authfire` 路徑改為 `/auth`，提升路徑一致性
  - 更新所有相關頁面的導航引用
  - 保持路由系統的簡潔性和可維護性

### 🚀 Firebase 整合
- 🔥 **Firebase 索引優化** - 改進 Firestore 查詢效能
  - 添加 prayer_responses 集合的複合索引
  - 支援按 prayer_id + created_at 排序的查詢
  - 支援按 user_id + created_at 排序的查詢
  - 解決 "The query requires an index" 錯誤

## v0.1.36 (2025-07-15)

### 🚀 登入系統優化
- 🔐 **全新緩存登入機制** - 徹底改進認證體驗
  - 多層緩存策略，支援離線與網絡不穩定情況
  - 使用者資料本地儲存與同步，提升登入速度
  - 智能錯誤處理和自動重試機制
  - Firebase 資源限制問題的全面解決方案
  
- ⚡️ **超高速頁面轉換** - 顯著提升頁面導航速度
  - 實現預加載系統，提前準備關鍵資源
  - 使用直接 DOM 操作實現即時頁面轉換
  - 將非關鍵任務延後執行，減少阻塞
  - 使用單向數據流簡化狀態管理

### 🎨 界面優化
- 👤 **頭像系統改進** - 提升用戶標識體驗
  - 統一頭像尺寸為 30px x 30px
  - 優先使用小尺寸頭像提升加載速度
  - 改善頭像載入失敗的錯誤處理
  - 提升頭像顯示的一致性

### ⚡️ 性能提升
- 🚪 **登出功能加速** - 提升登出操作速度 2-3 倍
  - 並行處理登出任務，避免阻塞操作
  - 智能緩存清理，僅清除必要數據
  - 使用超時保護機制確保操作完成
  - 改進本地存儲訪問方式，提高效率

### 🔧 技術改進
- 📊 **網絡狀態管理** - 智能處理離線和弱網絡環境
  - 使用 `navigator.onLine` 檢測網絡狀態
  - 實施指數退避策略處理請求失敗
  - 隨機延遲因子避免請求風暴
  - 完整的錯誤分類和處理機制

### 🔒 安全性增強
- 🛡️ **認證狀態保護** - 加強登入狀態安全性
  - 細粒度訪問控制系統
  - 敏感操作二次確認機制
  - 認證令牌安全存儲改進
  - 自動檢測會話過期

### ✅ 修復項目
- ✅ Firebase 資源不足 (INSUFFICIENT_RESOURCES) 錯誤
- ✅ 登入後黑色登入註冊按鈕未正確顯示頭像
- ✅ 登出操作緩慢問題
- ✅ 身份驗證狀態同步問題
- ✅ 訪客模式切換不一致問題
- ✅ 網路連接不穩定時的登入體驗

## v0.3.3463 (2025-01-26)

### 🎨 界面優化
- 📝 **經文輸入功能增強** - 改進 Profile2 頁面的經文輸入體驗
  - 實現經文輸入欄的編輯模式切換功能
  - 點擊文字顯示底部藍線，進入編輯模式
  - 確認修改後隱藏底部藍線，保持整潔視覺效果
  - 移除不必要的登出按鈕，簡化界面
  - 保留用戶在當前頁面，提升操作連續性

### 🏗️ 架構優化
- 🧩 **組件條件渲染** - 改進 ProfileForm 組件的靈活性
  - 添加 showOriginalFields 屬性控制欄位顯示
  - 在 Profile 頁面保留原始欄位（信箱帳號、用戶名稱、密碼）
  - 在 Profile2 頁面只顯示經文輸入欄
  - 確保不同頁面使用相同組件但呈現不同界面

## v0.3.3424 (2025-01-25)

### 🔧 技術改進
- ⚡️ **React 相容性優化** - 降級 React 版本以解決依賴衝突
  - 將 React 從 19.1.0 降級到 18.2.0 版本
  - 解決與 vaul、next-themes 等套件的相容性問題
  - 更新相對應的 TypeScript 類型定義

### 🎨 界面優化
- 👤 **Profile2 頁面優化** - 改進用戶個人資料頁面
  - 調整頭像位置，向下移動 50px 以優化佈局
  - 移除信箱帳號顯示，提升隱私保護
  - 新增經文輸入框，允許用戶保存喜愛的經文

### 📦 依賴管理
- 🔄 **自訂主題實現** - 替換 next-themes 為自訂主題實現
  - 實現簡單自製的 useTheme hook
  - 使用 localStorage 儲存和讀取主題設置
  - 監聽 storage 事件，同步多標籤頁之間的主題

## v0.3.3418 (2025-01-23)

### 🚀 緩存策略優化
- 💾 **持久化緩存機制** - 實現本地持久化緩存，提升重訪體驗
  - 添加基於 localStorage 的持久化緩存支援
  - 智能緩存管理，避免過時數據
  - 選擇性持久化，只存儲關鍵資源
  - 強化資源加載速度
  
- 🎯 **細粒度緩存控制** - 資源類型差異化緩存策略
  - 代禱列表：2 分鐘緩存時間，10 分鐘垃圾回收
  - 代禱回應：3 分鐘緩存時間，15 分鐘垃圾回收
  - 用戶資料：10 分鐘緩存時間，30 分鐘垃圾回收
  - 社交功能：15 分鐘緩存時間，60 分鐘垃圾回收
  
- 🔄 **背景資源預取** - 智能資源預取機制
  - 用戶閒置自動預取熱門內容
  - 批次預取頂部代禱回應
  - 基於用戶行為的智能預取策略
  - 智能網絡狀態檢測

### 🛠️ 架構優化
- 📦 **緩存服務模組化** - 創建專門的緩存服務
  - 獨立的 CacheService 類別封裝緩存邏輯
  - 提供統一的緩存管理 API
  - 與 React Query 完美整合
  - 清晰的錯誤處理和日誌
  
- ⚡️ **性能監控增強** - 集成 React Query 緩存監控
  - 詳細的緩存命中/錯過日誌
  - 請求次數顯著降低
  - 頁面響應速度提升
  - 離線模式支援增強

### 📱 用戶體驗優化
- 🎯 **更快的數據載入** - 減少請求次數，提升體驗
- ⚡️ **更流暢的頁面切換** - 利用緩存實現無縫切換
- 💾 **離線支援增強** - 基本功能即使離線也能使用
- 📊 **資源使用優化** - 降低網絡和電池消耗

## v0.3.3417 (2025-01-20)

### 🏗️ 架構優化
- 🧩 **模組化組織優化** - 將大型組件拆分為更小的功能模組
  - 拆分 App.tsx 到更小的功能模組
  - 提取路由配置到專門的文件
  - 分離 React Query 配置
  - 拆分錯誤邊界處理

- 🔄 **引入 Zustand 狀態管理**
  - 創建多個專用狀態庫：authStore、networkStore、backgroundStore
  - 實現狀態庫間的協調機制
  - 消除過多的上下文嵌套

- 🎯 **關注點分離**
  - 認證邏輯現在在 authStore 中處理
  - 網路狀態監測在 networkStore 中集中處理
  - 背景設置同步有專門的服務

- 📁 **更清晰的目錄結構**
  - 創建 config 目錄存放配置
  - 創建 routes 目錄存放路由
  - 創建 stores 目錄存放狀態庫
  - 創建 services/sync 目錄存放同步服務

### 🚀 維護性提升
- 🧪 **更容易測試** - 狀態和 UI 邏輯分離使測試更容易
- 📈 **更好的可擴展性** - 新功能可以輕鬆地添加到現有架構中
- 🔍 **更可追蹤的狀態** - 狀態變化更容易追蹤和調試

## v0.3.41 (2025-01-18)

### 🔧 技術改進
- 🛠️ **合併衝突修復** - 解決所有程式碼中的合併衝突標記
  - 修復 UserInfo.tsx 中的合併衝突
  - 修復 PrayerPost.tsx 中的合併衝突
  - 修復 toast.tsx 中的合併衝突
  - 確保所有檔案可正確編譯和運行

### 🚀 功能更新
- 📦 **依賴更新** - 重新安裝和更新所有專案依賴
  - 修復缺少的 node_modules 問題
  - 確保所有依賴版本一致性
  - 優化開發環境配置

## v0.3.381 (2025-01-16)

### 🎨 界面優化
- 🔶 **代禱社群按鈕顏色更新** - 將代禱社群按鈕顏色從藍色改為橘色
  - 更新Header中代禱社群按鈕的背景色為 `#FF9B50`
  - 調整hover效果為深橘色 `#FF8730`
  - 當頁面為代禱社群時，主按鈕也顯示為橘色
  - 保持整體界面風格一致性

## v0.3.376 (2025-01-15)

### 🚀 TypeScript 嚴格模式升級
- 🔒 **類型安全大幅提升** - 啟用 TypeScript 嚴格模式，全面提升代碼品質
  - 啟用 `strict: true` 和所有嚴格檢查選項
  - 移除所有 `any` 類型使用，改用具體的接口定義
  - 改善錯誤處理，使用 `unknown` 類型替代 `any`
  - 加強可選屬性處理，避免在嚴格模式下傳遞 `undefined` 值

### 🛠️ 錯誤處理系統改進
- 🎯 **統一錯誤處理** - 創建 `ErrorHandler` 類別，提供統一的錯誤處理機制
  - 標準化錯誤物件處理
  - 改善用戶友善的錯誤訊息
  - 添加 API 錯誤分類處理
  - 支援錯誤監控和日誌記錄

### 🔧 性能監控優化
- 📊 **性能指標監控** - 重構 `usePerformanceMonitor` Hook
  - 添加更多性能指標收集（FCP、LCP、CLS、FID）
  - 改善性能問題檢測和報告
  - 優化記憶化策略和回調函數處理

### 🧪 測試環境完善
- ✅ **測試穩定性提升** - 完善測試環境配置
  - 統一 mock 設置於 `setupTests.ts`
  - 修復所有 `act()` 警告，改善測試可靠性
  - 添加 Supabase URL 和 URL.createObjectURL 的 mock
  - 解決 heic2any 相關的測試問題

### 🎨 界面細節優化
- 📏 **頭像尺寸調整** - Prayers 頁面右上角頭像尺寸改為 30px × 30px
  - 使用內聯樣式確保精確尺寸控制
  - 保持圓形設計和背景色一致性

### 🔒 安全性增強
- 🛡️ **環境變數驗證** - 加強環境變數配置的安全性
  - 移除硬編碼的 Supabase 金鑰
  - 強制要求環境變數設置
  - 添加環境變數驗證機制
  - 在測試環境中自動跳過驗證

### 📦 建置和部署
- ✅ **生產環境建置** - 確保所有 TypeScript 嚴格模式檢查通過
- 🔄 **熱重載優化** - 改善開發環境的熱重載體驗
- 📱 **跨平台兼容性** - 保持 iOS 和 Android 平台的完整支援

## v0.2.86 (2025-07-08)

### 🚀 功能更新
- 🛡️ **超級管理員系統** - 添加內容審核功能
  - 新增超級管理員後台管理頁面 `/claire/super-admins`
  - 支援通過電子郵件指定超級管理員帳號
  - 超級管理員可刪除任何不當代禱內容和回應
  - 完整的審計日誌系統，記錄所有刪除操作
  - 超級管理員帳號可啟用/停用管理

### 🔧 技術架構改進
- 📊 **數據庫結構優化** - 添加超級管理員表和權限設計
  - 新增 `super_admins` 資料表存儲管理員信息
  - 實現行級安全策略 (RLS) 控制訪問權限
  - 添加 `current_user_is_super_admin` 和 `is_super_admin` 函數
  - 完整的審計觸發器記錄所有管理操作
- 🔒 **權限系統增強** - 精細的權限控制機制
  - 超級管理員可跨越內容所有權限制
  - 基於電子郵件的管理員身份驗證
  - 分層的權限檢查和管理機制

### 🎨 界面優化
- 🎯 **內容審核界面** - 在代禱卡片和回應中添加刪除按鈕
  - 超級管理員可直接從社群頁面刪除不當內容
  - 刪除前有確認對話框，顯示內容預覽
  - 刪除成功後有操作反饋和提示
- 📊 **管理後台擴展** - Claire 後台新增超級管理員管理頁面
  - 完整的超級管理員列表和狀態顯示
  - 支援添加、啟用/停用和刪除超級管理員
  - 清晰的權限狀態和操作反饋

## v0.2.85 (2025-07-07)

### 🚀 功能更新
- 📸 **相機功能預告** - 界面統一更新
  - 將快速分享代禱卡片上的交換背景圖示更改為照相機圖示
  - 在回覆代禱卡片中也添加照相機圖示
  - 點擊時顯示「相機功能開發中」提示
  - 統一與發布代禱頁面的圖示風格

### 🛠️ 錯誤修復
- 🖼️ **HEIC 圖片支援修復** - 修復 HEIC 圖片上傳功能
  - 在 PrayerNew 和 Prayers 頁面添加 HEIC 圖片處理邏輯
  - 使用 heic2any 庫將 HEIC 格式自動轉換為 JPEG 格式
  - 優化圖片上傳輸入框，明確支援 .heic 和 .heif 擴展名
  - 完善錯誤處理和日誌記錄
- 🎨 **背景設置優化** - 改進背景設置的全局共享
  - 確保代禱社群頁面和發布代禱頁面使用相同的背景設置
  - 優化背景樣式，添加 backgroundAttachment: 'fixed' 屬性
  - 確保背景覆蓋整個頁面，不隨卡片數量延伸
- 🔧 **UI 顯示修復** - 修復代禱回覆區域顯示問題
  - 移除沒有回覆時顯示的灰色骨架屏幕
  - 優化回覆區域的載入狀態顯示
  - 提升空白回覆區域的視覺體驗

### 🔧 技術改進
- ⚡️ **圖片處理優化** - 改進圖片壓縮和處理邏輯
- 📱 **iOS 兼容性** - 確保 iPhone 拍攝的 HEIC 圖片可直接上傳
- 🔄 **全局狀態管理** - 優化背景設置的全局狀態管理

## v0.2.7 (2025-01-07)

### 🚀 重大更新：Android 平台支援
- 📱 **Android 應用程式支援** - 新增完整的 Android 平台支援
  - 安裝 `@capacitor/android` 依賴
  - 配置 Android 平台設定
  - 新增 Android 建置腳本 (`build:android`, `open:android`)
  - 完整的 Android 專案結構生成
- 🔧 **跨平台建置** - 現在支援 iOS 和 Android 雙平台
  - iOS: `bun run build:ios` / `bun run open:ios`
  - Android: `bun run build:android` / `bun run open:android`
- 📚 **文檔更新** - 更新 README 添加 Android 開發環境要求
  - Android Studio
  - Android SDK
  - Java Development Kit (JDK) 17+

### 🎯 技術改進
- ⚙️ **Capacitor 配置優化** - 更新 `capacitor.config.ts` 支援雙平台
- 🔄 **同步機制** - 確保 Web 資源正確同步到 Android 專案
- 📦 **依賴管理** - 添加 Android 相關依賴和腳本

## v0.2.6 (2025-07-05)

### 🎨 界面優化
- 📐 **發布頁面佈局優化** - 調整輸入欄與白色卡片對齊
  - 設定輸入欄寬度為 300px，高度 300px
  - 外層白色卡片寬度為 330px，確保居中對齊
- 📏 **圖示間距調整** - 優化功能按鈕位置
  - 調整四個圖示（更改背景、麥克風、相機和發送按鈕）與輸入欄的距離為 24px
  - 確保圖示與白色卡片底部的距離也為 24px
  - 修正送出箭頭的顏色，與其他三個圖示顏色一致
- 🔧 **頁面元素間距調整**
  - 將分享代禱白色卡片距離導覽列的距離調整為 150px
  - 將匿名發布卡片距離發布代禱白色卡片的距離調整為 120px

### 📱 iOS 部署優化
- 🔄 **構建同步** - 構建應用程式並同步到 iOS 專案
- 🧪 **測試支援** - 優化 iOS 設備上的測試支援

## v0.2.5 (2025-07-04)

### 🚀 功能更新
- 📝 **個人資料頁面改進** - 全新設計的 Profile 頁面，提升用戶體驗
- 👤 **頭像管理系統** - 實現頭像上傳、同步和管理功能
- 🖼️ **用戶背景系統** - 實現用戶背景設置的雲端同步

### 🔧 技術架構改進
- 🗃️ **資料庫遷移** - 新增 user_avatars 和 user_backgrounds 資料表
- 🛡️ **安全性增強** - 修復重複的資料庫政策
- 🔄 **雙重備援系統** - 實現頭像/背景的雙重備援同步機制

### ✅ 樣式優化
- 🎨 **頭像外框移除** - 移除頭像外框，提升視覺清潔度
- 🖌️ **按鈕陰影優化** - 移除頭像更換按鈕的陰影效果

## v0.2.2 (2025-01-07)

### 🎯 重大修復：iOS WebView 菜單遮擋問題
- 🔧 **Portal 菜單架構** - 完全重構 Header 菜單系統，解決 iOS WebView 中下拉菜單被卡片遮擋的問題
- ⚡️ **React Portal 實現** - 菜單使用 `createPortal` 直接渲染到 `document.body`，確保最高層級顯示
- 📱 **iOS 兼容性優化** - 移除會創建 stacking context 的 CSS 屬性，避免 WebView 層級衝突
- 🎨 **精確定位系統** - 菜單固定距離螢幕頂部 47px，確保一致的視覺體驗

### 🎨 界面優化
- 🖼️ **Logo 恢復** - Header 左側恢復使用原來的黑色 Prayforo 圖片
- 📏 **間距調整** - 移除 NavigationButtons 不必要的 30px 高度，優化 Header 上下間距
- 🔧 **菜單尺寸優化** - 菜單高度調整為 110px，按鈕間距 40px，完美的視覺平衡
- 📐 **邊距精調** - 頂部間距 4px，底部間距 6px，確保精確的像素完美對齊

### 🔧 技術架構改進
- 🗑️ **CSS 清理** - 移除 `#root` 的 `transform: translateZ(0)` 和其他會影響層級的屬性
- 🎯 **事件優化** - 完整的觸控事件支援 (onClick + onTouchEnd + onTouchStart)
- 📱 **WebView 適配** - 針對 iOS Capacitor WebView 的特殊行為進行專門優化
- ⚡️ **性能提升** - 簡化 DOM 結構，減少不必要的 CSS 層級創建

### 🧪 開發工具
- 🔍 **調試系統** - 詳細的控制台日誌，方便追蹤菜單狀態和事件觸發
- 📊 **狀態監控** - 實時監控菜單開啟/關閉狀態和位置計算
- 🔧 **測試功能** - 臨時測試按鈕驗證 Portal 功能 (已移除)

### ✅ 修復項目
- ✅ **iOS WebView 菜單遮擋** - 徹底解決手機版菜單無法點擊的問題
- ✅ **Header 樣式恢復** - Logo 和間距完全恢復到正確狀態
- ✅ **觸控事件響應** - 確保所有按鈕在移動設備上正常響應
- ✅ **視覺一致性** - 菜單在所有設備和瀏覽器中保持一致的外觀和位置

### 🔄 版本控制
- 📦 **完整專案同步** - 包含所有 Supabase 配置和資料庫架構
- 🏷️ **版本標記** - 正式發布 v0.2.2，準備推送到 GitHub

## v0.2.1 (2025-07-02)

### 🎨 版面佈局優化
- 📱 **手機版面優化** - 修正頁面寬度和對齊問題
  - 移除 #root 的 padding: 2rem
  - 調整 Header 組件佈局
  - 優化白色卡片寬度為 360px
  - 左右邊距各為 15px（總寬度 390px）
- 🔧 **Header 組件改進**
  - Logo 左對齊白色卡片
  - 登入按鈕右對齊白色卡片
  - 中間按鈕置中對齊
  - 修復菜單展開/收合功能

### 🔧 技術改進
- ⚡️ **效能優化** - 改善頁面載入和渲染效能
- 📱 **響應式設計** - 確保在各種螢幕尺寸下的一致體驗
- 🎯 **版面重構** - 統一元件間距和對齊標準

### ✅ 修復項目
- ✅ 解決頁面可左右拖動問題
- ✅ 修正 Header 消失問題
- ✅ 優化白色卡片寬度設定
- ✅ 改善整體視覺一致性

## v0.1.9 (2025-07-01)

### 🔧 跨瀏覽器兼容性修復
- 🌐 **Chrome 瀏覽器相容性** - 完全解決 Chrome 中頁面內容不顯示的問題
- 🦊 **Firefox 自動登入修復** - 修復 Firefox 可以自動登入但 Chrome/Safari 不行的認證問題
- 🔄 **認證系統重構** - 支援多種認證參數格式 (URL hash fragment 和 search parameters)
- 📱 **Safari 兼容性改進** - 確保在所有主要瀏覽器中功能一致

### 🚀 使用者體驗優化
- 🎨 **背景偏好系統** - 新登入使用者預設背景色設為 #f8e9e2 
- 💾 **個人化設定** - 完整的使用者背景偏好儲存與載入機制
- 🔒 **自動填入禁用** - 全面禁用瀏覽器自動填入功能，提供更清爽的輸入體驗
- ✨ **智能認證處理** - 手動會話設置作為自動檢測的備用方案

### 🎯 輸入體驗改進
- 📝 **登入註冊頁面** - email 和 password 輸入欄不再顯示歷史紀錄
- 👤 **個人設定頁面** - 帳號設定和密碼修改欄位完全清空
- 📖 **經文編輯區域** - 經文 textarea 禁用自動填入
- 🙏 **代禱輸入表單** - 所有代禱相關輸入欄位清空歷史

### 🛠️ 技術架構改進
- 🔧 **z-index 層級系統重整** - 修復 Chrome 特有的層級衝突問題
- 🎨 **CSS 兼容性優化** - 移除 Chrome 不支援的 CSS 屬性和寫法
- ⚡️ **渲染效能優化** - 簡化複雜的背景層級結構，提升渲染效能
- 🔄 **認證流程健全化** - 詳細日誌記錄，方便問題追蹤和調試

### 🔄 認證系統增強
- 🔍 **智能參數檢測** - 自動檢測 access_token、refresh_token、token_hash 等認證參數
- 🧹 **URL 清理機制** - 認證成功後自動清理 URL 參數，保持乾淨狀態
- 📱 **多瀏覽器統一體驗** - 確保 Chrome、Firefox、Safari 認證流程一致
- ⚠️ **錯誤處理改進** - 更好的認證錯誤提示和用戶反饋

### 🎨 樣式系統優化
- 📐 **版面結構保持** - 維持原有的美觀設計和佈局比例
- 🖼️ **背景系統完整保留** - 9 種漸變背景 + 自定義背景上傳功能
- 🎯 **Chrome 特殊適配** - 針對 Chrome 渲染特性進行專門優化
- 💎 **視覺效果維持** - 所有 UI 元件和互動效果完全保留

### 🔍 除錯功能
- 🐛 **控制台日誌優化** - 更詳細的認證狀態和渲染調試信息
- 📊 **狀態監控** - 實時監控背景偏好載入和用戶認證狀態
- 🔧 **開發工具改進** - 更好的錯誤追蹤和性能監控

### ✅ 修復項目
- ✅ Chrome 瀏覽器頁面內容顯示問題
- ✅ 跨瀏覽器認證一致性問題  
- ✅ 輸入欄位自動填入干擾問題
- ✅ z-index 層級衝突問題
- ✅ 新使用者背景設定問題
- ✅ 使用者偏好儲存機制
- ✅ TypeScript 類型兼容性問題
- ✅ lucide-react import 錯誤

## v0.1.8 (2025-06-30)

### 🎨 重大功能更新
- ✨ **全新背景更換功能** - 支援 9 種精美漸層背景主題
- 🖼️ **自定義背景上傳** - 用戶可上傳個人圖片作為頁面背景
- 🌈 **全螢幕背景覆蓋** - 背景完美覆蓋整個螢幕，無白邊
- 🎯 **智能背景處理** - 自動適應螢幕尺寸與比例

### 🔧 介面優化
- 🗂️ **簡化導覽** - 完全移除好友功能，專注於代禱核心功能
- 📐 **按鈕重新定位** - 發布代禱按鈕和圓形頭像按鈕向下移動 50px，水平對齊
- 🎛️ **背景選擇器** - 美觀的 3x3 網格布局，支援即時預覽
- 📱 **版面編排優化** - 保持原有間距設計，確保視覺平衡
- 🎯 **菜單跟隨調整** - 白色下拉菜單隨按鈕位置移動，保持最佳使用體驗

### 🎨 顏色統一優化
- 🎯 **統一主題色** - 所有文字、按鈕、邊框統一使用 #4D9BD9 藍色
- 📝 **文字顏色調整** - placeholder 文字、標籤文字、說明文字全部改為 #4D9BD9
- ☑️ **勾選框重新設計** - 自定義方形勾選框，選中時純藍色填滿
- 🔤 **人稱代詞統一** - 全站文字從「您」改為「你」，保持親切感

### 📐 間距與排版精調
- 📏 **功能按鈕間距** - 四個功能按鈕與輸入框間距調整為 20px
- 📦 **白色卡片邊距** - 功能按鈕與卡片底部間距調整為 20px
- 📖 **行距統一** - 所有說明文字使用 leading-5 保持一致行距
- 🔲 **邊框規格** - 輸入框和勾選框統一使用 1px 邊框

### 🚫 Firefox 兼容性修復
- 🦊 **Focus 樣式移除** - 解決 Firefox 瀏覽器按鈕 focus 時出現藍色邊框
- 🎯 **按鈕樣式統一** - 強制移除所有瀏覽器預設的 outline 和 border

### 📱 iOS 兼容性修復
- 🔧 **點擊事件修復** - 解決 iOS 上按鈕無法點擊的問題
- ��️ **滾動功能恢復** - 修復卡片無法上下滾動的問題
- 🎚️ **觸控事件優化** - 背景層使用 `pointerEvents: 'none'`，確保不阻擋觸控
- 📏 **z-index 層級調整** - 按鈕使用 z-[100]，菜單使用 z-[9999]，確保正確層疊

### 🖥️ 技術改進
- 🔄 **分層背景系統** - 使用 fixed 定位實現全螢幕背景
- 📊 **圖片處理** - Base64 編碼存儲，支援 JPG/PNG/GIF 格式
- 💾 **檔案大小限制** - 5MB 上傳限制，確保效能
- 🎚️ **CSS 架構重構** - 移除固定背景色，支援動態主題

### 🎪 背景主題選項
- 🌅 預設 (橘粉漸層)
- 🌄 晨曦 (橘粉深色)
- 🌊 海洋 (藍青漸層)
- 🌲 森林 (綠翠漸層)
- 💜 紫禦 (紫靛漸層)
- ☀️ 溫暖 (黃橘漸層)
- 🌿 薄荷 (青綠漸層)
- 🌸 櫻花 (粉玫漸層)
- ☁️ 天空 (天藍漸層)
- 📸 自定義 (用戶上傳)

### 🔧 修復項目
- ✅ 解決背景顏色無法變更的 CSS 衝突問題
- ✅ 修正外圈區域背景覆蓋範圍
- ✅ 移除干擾背景選擇器的遮罩問題
- ✅ 優化背景選擇器定位與顯示
- ✅ 修復 Firefox 瀏覽器 focus 邊框問題
- ✅ 統一顏色主題和文字用詞
- ✅ **修復註冊自動登入問題** - 創建帳號後自動嘗試登入，無需手動重新登入
- ✅ **修復郵件確認自動登入** - 點擊郵件確認連結後自動登入並顯示歡迎訊息
- ✅ **修復登入狀態顯示問題** - Header 組件優先使用 Supabase 認證狀態，避免外部 props 覆蓋

## v0.1.6 (2025-01-27)

### 版本更新
- 🎯 完成白色菜單位置精確調整 (top: 44px)
- 📱 整合 iOS Capacitor 應用建置與配置
- 📝 新增完整的變更日誌記錄系統
- 🔧 優化 Header 組件菜單展開效果

### 技術改進
- ✅ 完成 iOS 原生支援檔案整合
- ✅ 優化菜單顯示/隱藏邏輯
- ✅ 改善 React 條件渲染穩定性

## v0.1.5 (2025-01-27)

### 版本更新
- 📝 修正專案名稱為 "Prayforo"
- 📁 整理本機開發版本，準備上傳到 GitHub
- ⚠️ 手機版面左右拖動問題仍待解決

### 新增功能
- ✅ 成功實施 iOS Capacitor 應用建置與安裝
- ✅ 添加模擬資料系統，支援離線使用
- ✅ 實施完整的代禱發布與顯示功能
- ✅ 添加用戶認證與個人資料管理
- ✅ 整合 Supabase 後端服務

### 修復項目
- ✅ 解決代禱卡片顯示問題
- ✅ 修復資料庫連接錯誤處理
- ✅ 優化圖片載入效能
- ✅ 改善錯誤處理和日誌記錄

### 技術改進
- ✅ 使用 React + TypeScript + Vite
- ✅ 整合 Tailwind CSS 和 shadcn/ui
- ✅ 實施 React Query 資料管理
- ✅ 添加 Capacitor iOS 原生支援
- ✅ 設置 CocoaPods 和原生依賴

### 已知問題
- ⚠️ **手機版面佈局需要調整**
  - iPhone 13 (390x844) 上仍可左右拖動頁面
  - 內容未完全居中對齊
  - 嘗試多種 CSS 和 JavaScript 修復方案但問題仍然存在
  - 需要進一步研究 Capacitor WebView 行為

### 開發環境
- Node.js + Bun
- iOS 開發環境 (Xcode + CocoaPods)
- 本地開發伺服器: http://localhost:8080
- 專案路徑: ~/prayforo-local (避免 Dropbox 沙盒問題)

### 下一步計劃
- 🔧 解決手機版面左右拖動問題
- 📱 優化 iOS 版面適配
- 🎨 改善 UI/UX 設計
- 🔄 添加更多社交功能

## v0.1.7 (2025-06-30)

### 版本更新
- 🎯 修正代禱內容文字置中問題，改為靠左對齊
- 🔧 優化組件載入方式，修復 PrayerResponseList 和 PrayerForm 的錯誤
- 📝 改進代碼結構，移除不必要的動態載入
- ⚡️ 提升應用程式效能和穩定性

### 技術改進
- ✅ 優化組件導入方式
- ✅ 改善代禱文字排版
- ✅ 提升代碼可維護性 